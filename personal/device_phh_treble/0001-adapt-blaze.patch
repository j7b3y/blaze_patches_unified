From ac9d550c0fc440a64f3fb47101bb7e978cc6a17d Mon Sep 17 00:00:00 2001
From: j7b3y <Glowing3386@proton.me>
Date: Wed, 22 Feb 2023 15:15:52 +0900
Subject: [PATCH 01/10] adapt blaze

---
 aex.mk      |  4 ----
 amyROM.mk   |  1 -
 blaze.mk    | 20 ++++++++++++++++++++
 carbon.mk   |  9 ---------
 gapps-go.mk | 24 ------------------------
 gapps.mk    | 52 ----------------------------------------------------
 havoc.mk    |  3 ---
 lineage.mk  |  3 ---
 phh.mk      |  3 ---
 rr.mk       |  2 --
 10 files changed, 20 insertions(+), 101 deletions(-)
 delete mode 100644 aex.mk
 delete mode 100644 amyROM.mk
 create mode 100644 blaze.mk
 delete mode 100644 carbon.mk
 delete mode 100644 gapps-go.mk
 delete mode 100644 gapps.mk
 delete mode 100644 havoc.mk
 delete mode 100644 lineage.mk
 delete mode 100644 phh.mk
 delete mode 100644 rr.mk

diff --git a/aex.mk b/aex.mk
deleted file mode 100644
index c41ea78..0000000
--- a/aex.mk
+++ /dev/null
@@ -1,4 +0,0 @@
-$(call inherit-product, $(SRC_TARGET_DIR)/product/core_64_bit.mk)
-$(call inherit-product, $(SRC_TARGET_DIR)/product/full_base_telephony.mk)
-$(call inherit-product, vendor/aosp/common.mk)
-TARGET_BOOT_ANIMATION_RES := 1080
diff --git a/amyROM.mk b/amyROM.mk
deleted file mode 100644
index db6dfc0..0000000
--- a/amyROM.mk
+++ /dev/null
@@ -1 +0,0 @@
-$(call inherit-product, vendor/amy/config/common.mk)
diff --git a/blaze.mk b/blaze.mk
new file mode 100644
index 0000000..e5ec51e
--- /dev/null
+++ b/blaze.mk
@@ -0,0 +1,19 @@
+$(call inherit-product, vendor/blaze/config/common.mk)
+$(call inherit-product, vendor/blaze/config/BoardConfigSoong.mk)
+-include vendor/blaze/build/core/config.mk
+-include vendor/blaze/build/core/apicheck.mk
+
+TARGET_BOOT_ANIMATION_RES := 1080
+
+TARGET_SUPPORTS_QUICK_TAP := true
+TARGET_SUPPORTS_CALL_RECORDING := true
+
+TARGET_USES_PREBUILT_VENDOR_SEPOLICY := true
+TARGET_HAS_FUSEBLK_SEPOLICY_ON_VENDOR := true
+
+TARGET_DISABLE_BLUETOOTH_LE_READ_BUFFER_SIZE_V2 := true
+
+BLAZE_MAINTAINER := j7b3y
+
+PRODUCT_SYSTEM_DEFAULT_PROPERTIES += \
+    ro.system.ota.json_url=https://raw.githubusercontent.com/ponces/treble_build_pe/thirteen/ota.json
\ No newline at end of file
diff --git a/carbon.mk b/carbon.mk
deleted file mode 100644
index ba22566..0000000
--- a/carbon.mk
+++ /dev/null
@@ -1,9 +0,0 @@
-$(call inherit-product, vendor/carbon/config/gsm.mk)
-$(call inherit-product, vendor/carbon/config/common.mk)
-PRODUCT_PROPERTY_OVERRIDES += \
-    ro.carbon.maintainer="phh"
-
-#By default, CarbonROM copies it into root/init.carbon.rc
-#For this to work in GSI, we put it in /system
-PRODUCT_COPY_FILES += \
-	vendor/carbon/prebuilt/etc/init.carbon.rc:system/etc/init/init.carbon.rc
diff --git a/gapps-go.mk b/gapps-go.mk
deleted file mode 100644
index 49a9df2..0000000
--- a/gapps-go.mk
+++ /dev/null
@@ -1,24 +0,0 @@
-BUILD_GMS := yes
-#include not inherit, because we must edit some values
--include vendor/google/products/gms_go.mk
--include vendor/partner_gms/products/gms_go.mk
-
-FILTER_OUT = $(foreach v,$(2),$(if $(findstring $(1),$(v)),,$(v)))
-
-#gms_go.mk has a broken copy of google_go.xml => google.xml
-#But there already is a google.xml => google.xml
-#Only difference between those is maps go and youtube go applinks, so good enough
-PRODUCT_COPY_FILES := $(call FILTER_OUT,google_go.xml:, $(PRODUCT_COPY_FILES))
-
-#We need to use this way because it overrides sync adapters
-PRODUCT_PACKAGES := $(filter-out CalendarGoogle, $(PRODUCT_PACKAGES))
-PRODUCT_PACKAGES := $(filter-out GoogleContacts, $(PRODUCT_PACKAGES))
-
-#Launcher3Go has no recents support...?
-PRODUCT_PACKAGES := $(filter-out Launcher3Go, $(PRODUCT_PACKAGES))
-
-PRODUCT_SHIPPING_API_LEVEL :=
-
-PRODUCT_PACKAGES += \
-	phh-gapps-go-overrides \
-	GoogleContactsSyncAdapter \
diff --git a/gapps.mk b/gapps.mk
deleted file mode 100644
index 15e12a9..0000000
--- a/gapps.mk
+++ /dev/null
@@ -1,52 +0,0 @@
-BUILD_GMS := yes
-ifneq ($(wildcard vendor/google)$(wildcard vendor/partner_gms),)
--include vendor/google/products/gms.mk
--include vendor/partner_gms/products/gms.mk
-PRODUCT_SHIPPING_API_LEVEL :=
-
-PRODUCT_PACKAGES := $(filter-out CalendarGoogle, $(PRODUCT_PACKAGES))
-PRODUCT_PACKAGES := $(filter-out GoogleContacts, $(PRODUCT_PACKAGES))
-
-PRODUCT_PACKAGES += \
-	phh-gapps-overrides \
-	Chrome \
-	GoogleContactsSyncAdapter \
-	talkback \
-
-PRODUCT_SYSTEM_DEFAULT_PROPERTIES := $(filter-out ro.boot.vendor.overlay.theme=%,$(PRODUCT_SYSTEM_DEFAULT_PROPERTIES))
-endif
-
-ifneq ($(wildcard vendor/opengapps),)
-PRODUCT_COPY_FILES += \
-	device/phh/treble/empty-permission.xml:system/etc/permissions/com.google.android.camera2.xml \
-	device/phh/treble/empty-permission.xml:system/etc/permissions/com.google.android.camera.experimental2015.xml \
-	device/phh/treble/empty-permission.xml:system/etc/permissions/com.google.android.camera.experimental2016.xml \
-	device/phh/treble/empty-permission.xml:system/etc/permissions/com.google.android.camera.experimental2017.xml
-
-PRODUCT_PACKAGE_OVERLAYS += device/phh/treble/overlay-gapps
-GAPPS_VARIANT := pico
-DONT_DEXPREOPT_PREBUILTS := true
-WITH_DEXPREOPT_BOOT_IMG_AND_SYSTEM_SERVER_ONLY := true
-GAPPS_FORCE_PACKAGE_OVERRIDES := true
-GAPPS_FORCE_BROWSER_OVERRIDES := true
-GAPPS_FORCE_WEBVIEW_OVERRIDES := true
-PRODUCT_PACKAGES += \
-       Chrome \
-       CalculatorGoogle \
-       PrebuiltDeskClockGoogle \
-       CalendarGooglePrebuilt \
-       LatinImeGoogle \
-       phh-overrides
-
-$(call inherit-product, vendor/opengapps/build/opengapps-packages.mk)
-endif
-
-#Pixel Experience gapps
-ifneq ($(wildcard vendor/gapps),)
-IS_PHONE := true
-$(call inherit-product,vendor/gapps/config.mk)
-PRODUCT_PACKAGES += \
-       phh-overrides \
-	   com.simplemobiletools.gallery.pro \
-
-endif
diff --git a/havoc.mk b/havoc.mk
deleted file mode 100644
index 4a5b503..0000000
--- a/havoc.mk
+++ /dev/null
@@ -1,3 +0,0 @@
-$(call inherit-product, vendor/havoc/config/common_full_phone.mk)
-$(call inherit-product, device/havoc/sepolicy/common/sepolicy.mk)
--include vendor/havoc/build/core/config.mk
diff --git a/lineage.mk b/lineage.mk
deleted file mode 100644
index 172bb01..0000000
--- a/lineage.mk
+++ /dev/null
@@ -1,3 +0,0 @@
-$(call inherit-product, vendor/lineage/config/common_full_phone.mk)
--include vendor/lineage/build/core/config.mk
--include vendor/lineage/build/core/apicheck.mk
diff --git a/phh.mk b/phh.mk
deleted file mode 100644
index 738b96f..0000000
--- a/phh.mk
+++ /dev/null
@@ -1,3 +0,0 @@
-PRODUCT_SYSTEM_DEFAULT_PROPERTIES += \
-	ro.system.ota.json_url=https://raw.githubusercontent.com/phhusson/treble_experimentations/master/ota/squeak/ota.json
-
diff --git a/rr.mk b/rr.mk
deleted file mode 100644
index 45fa38a..0000000
--- a/rr.mk
+++ /dev/null
@@ -1,2 +0,0 @@
-$(call inherit-product, vendor/rr/config/common_full_phone.mk)
-$(call inherit-product, device/rr/sepolicy/common/sepolicy.mk)
-- 
2.34.1

