From a1ad46e2e283cd0627088f66a6d4cc59f4a0b9cf Mon Sep 17 00:00:00 2001
From: j7b3y <Glowing3386@proton.me>
Date: Sat, 20 Aug 2022 20:27:13 +0900
Subject: [PATCH] Disable vndklite handling

Change-Id: I079d9914d5f9abd5b50e2c8f3e1985c0bd777ecc
---
 linker/linker.cpp | 4 ----
 1 file changed, 4 deletions(-)

diff --git a/linker/linker.cpp b/linker/linker.cpp
index c6588d2cd..33e91da21 100644
--- a/linker/linker.cpp
+++ b/linker/linker.cpp
@@ -93,7 +93,6 @@ static uint64_t g_module_unload_counter = 0;
 static const char* const kLdConfigArchFilePath = "/system/etc/ld.config." ABI_STRING ".txt";
 
 static const char* const kLdConfigFilePath = "/system/etc/ld.config.txt";
-static const char* const kLdConfigVndkLiteFilePath = "/system/etc/ld.config.vndk_lite.txt";
 
 static const char* const kLdGeneratedConfigFilePath = "/linkerconfig/ld.config.txt";
 
@@ -3365,9 +3364,6 @@ static std::string get_ld_config_file_apex_path(const char* executable_path) {
 }
 
 static std::string get_ld_config_file_vndk_path() {
-  if (android::base::GetBoolProperty("ro.vndk.lite", false)) {
-    return kLdConfigVndkLiteFilePath;
-  }
 
   std::string ld_config_file_vndk = kLdConfigFilePath;
   size_t insert_pos = ld_config_file_vndk.find_last_of('.');
-- 
2.36.1

